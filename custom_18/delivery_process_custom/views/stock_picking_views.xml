<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <record id="view_picking_form_inherit_location" model="ir.ui.view">
        <field name="name">stock.picking.form.inherit.location</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_form" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='location_id']" position="after">
                <field name="delivery_location_id"
                    invisible= "login_company != 'FUGEN UK LTD' or picking_type_code != 'outgoing'"  
                    options="{'no_create_edit': True, 'no_create': True, 'no_open': True}"
                    readonly="1" force_save="1" />
            </xpath>
            <xpath expr="//field[@name='origin']" position="after">
                <field name="delivery_truck_id"
                    invisible= "login_company != 'FUGEN UK LTD' or picking_type_code != 'outgoing'"                   
                    options="{'no_create_edit': True, 'no_create': True, 'no_open': True}" />
                <field name="truck_type_id"
                    invisible= "login_company != 'FUGEN UK LTD' or picking_type_code != 'outgoing'"                    
                    options="{'no_create_edit': True, 'no_create': True, 'no_open': True}"
                    readonly="1" force_save="1" />
                <label for="truck_loading_capacity"
                    invisible= "login_company != 'FUGEN UK LTD' or picking_type_code != 'outgoing'"/>
                <div name="truck_loading_capacity_div" class="d-flex"
                    invisible= "login_company != 'FUGEN UK LTD' or picking_type_code != 'outgoing'">
                    <field name="truck_loading_capacity" readonly="1" force_save="1" />
                    <span class="oe_inline o_form_label mx-3">In</span>
                    <field name="truck_uom_id"
                        options="{'no_create_edit': True, 'no_create': True, 'no_open': True}"
                        readonly="1" force_save="1" />
                </div>
            </xpath>
        </field>
    </record>

    <record id="vpicktree_inherit_location" model="ir.ui.view">
        <field name="name">stock.picking.tree.inherit.location</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.vpicktree" />
        <field name="arch" type="xml">
            <xpath expr="//field[@name='origin']" position="after">
                <field name="picking_type_code" optional="hide" />
                <field name="delivery_location_id" />
                <field name="delivery_truck_id" string="Truck" />
                <field name="truck_type_id" />
                <field name="truck_loading_capacity" />
                <field name="truck_uom_id" string="UoM" />
            </xpath>
        </field>
    </record>

    <record id="view_picking_internal_search_inherit_location" model="ir.ui.view">
        <field name="name">stock.picking.internal.search.inherit.location</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_internal_search" />
        <field name="arch" type="xml">
            <!--    <xpath expr="//filter[@name='backorder']" position="after">
                <separator/>
                <filter name="filter_by_delivery_location" string="Delivery Location"
            domain="[('delivery_location_id', '!=', False)]"/>
                <filter name="filter_by_delivery_truck" string="Truck" domain="[('delivery_truck_id', '!=',
            False)]"/>
            </xpath> -->
            <xpath expr="//group" position="inside">
                <separator />
                <filter string="Delivery Location" name="group_by_delivery_location" domain="[]"
                    context="{'group_by': 'delivery_location_id'}" />
                <separator />
                <filter string="Truck" name="group_by_delivery_truck" domain="[]"
                    context="{'group_by': 'delivery_truck_id'}" />
            </xpath>
        </field>
    </record>

</odoo>