<odoo>
  <template id="portal_my_reservations" name="My Reservations" inherit_id="portal.portal_my_home">
    <xpath expr="//div[@id='portal_common_category']" position="inside">
      <a class="btn btn-primary" href="/my/hotel/reservations">My Reservations</a>
    </xpath>
  </template>

  <template id="portal_my_reservations_page" name="Reservations Page">
    <t t-call="portal.layout">
      <div class="container">
        <h2>My Reservations</h2>
        <t t-set="res" t-value="request.env['hotel.reservation'].sudo().search([('partner_id','=',request.env.user.partner_id.id)])"/>
        <table class="table table-striped">
          <tr><th>Name</th><th>Room</th><th>Checkin</th><th>Checkout</th><th>Status</th></tr>
          <t t-foreach="res" t-as="r">
            <tr>
              <td><t t-esc="r.name"/></td>
              <td><t t-esc="r.room_id.name"/></td>
              <td><t t-esc="r.checkin"/></td>
              <td><t t-esc="r.checkout"/></td>
              <td><t t-esc="r.state"/></td>
            </tr>
          </t>
        </table>
      </div>
    </t>
  </template>
</odoo>
